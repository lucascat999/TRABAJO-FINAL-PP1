{% extends 'base.html' %}

{% block title %}Detalle del Producto{% endblock %}

{% block content %}
<div class="container mt-4">
  <div class="card shadow">
    <div class="card-header bg-info text-white">
      <h4 class="mb-0">
        <i class="fas fa-box"></i> {{ producto.nombre }}
      </h4>
    </div>
    <div class="card-body">
      <p><strong>SKU:</strong> {{ producto.sku }}</p>
      <p><strong>Descripción:</strong> {{ producto.descripcion|default:"Sin descripción" }}</p>
      <p><strong>Categoría:</strong> {{ producto.categoria|default:"Sin rubro" }}</p>
      <p><strong>Precio:</strong> ${{ producto.precio|floatformat:2 }}</p>
      <p><strong>Stock:</strong> {{ producto.stock }} unidades</p>
      <p><strong>Stock mínimo:</strong> {{ producto.stock_minimo }}</p>
      <p><strong>Estado:</strong>
        {% if producto.necesita_reposicion %}
          <span class="badge badge-danger">Bajo stock</span>
        {% else %}
          <span class="badge badge-success">OK</span>
        {% endif %}
      </p>
      {% if producto.imagen %}
        <div class="mt-3">
          <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}" class="img-fluid img-thumbnail" style="max-width: 300px;">
        </div>
      {% endif %}
    </div>
    <div class="card-footer d-flex justify-content-between">
      <div>
        <a class="btn btn-sm btn-warning" href="{% url 'productos:producto_update' producto.pk %}">
          <i class="fas fa-edit"></i> Editar
        </a>
        <form action="{% url 'productos:producto_delete' producto.pk %}" method="post" class="d-inline">
          {% csrf_token %}
          <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('¿Confirma eliminar?');">
            <i class="fas fa-trash"></i> Eliminar
          </button>
        </form>
      </div>
      <a href="{% url 'productos:producto_list' %}" class="btn btn-secondary btn-sm">
        <i class="fas fa-arrow-left"></i> Volver al listado
      </a>
    </div>
  </div>
</div>
{% endblock %}